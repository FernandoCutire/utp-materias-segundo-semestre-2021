create table TIPO_PRESTAMO (
ID_tipo number not null,
tipo varchar2 (30) not null,
tasa_interes number not null,
constraint ID_tipo_pk primary key (ID_tipo)
);
create table SUCURSAL (
Cod_sucursal number not null,
Nombre_sucursal varchar2 (30) not null,
Constraint Cod_suc_pk primary key (Cod_sucursal)
);

create sequence trig_tip 
start with 1
increment by 1;

create table temp_tip(
upd_suc, 
ID_tipo, 
tipo, 
tasa_interes
);


CREATE OR REPLACE TRIGGER tip_trig AFTER UPDATE OR INSERT OR DELETE 
ON TIPO_PRESTAMO FOR EACH ROW
BEGIN
IF INSERTING THEN
INSERT INTO Temp_tip (upd_suc, ID_tipo, tipo, tasa_interes)
VALUES (trig_tip.nextval, :new.id_tipo, :new.tipo, new.tasa.interes);
ELSIF UPDATING THEN
UPDATE Temp_tip
SET
Upd_tip= trig_tip.nextval,
id_tipo = :NEW.id_tipo,
tipo = :new.tipo,
tasa_interes = :new.tasa_interes,
END IF;
END tip_trig;
/



CREATE VIEW Sucu_prestamo AS
SELECT s.nombre_sucursal, tp.Nombre, sp.montopres
FROM sucu s JOIN sucu_prestamo sp ON s.cod_sucursal = sp.cod_sucursal
JOIN tipo_prestamos tp on sp.tipoprestamo = tp.id_tipo;